
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Parcel matching (state=60) &#8212; cneuromod-embeddings</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="shortcut icon" href="_static/logo.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Parcel matching (state=900)" href="friends-s01_match_state-900.html" />
    <link rel="prev" title="Supplementary friends-s01" href="supplementary_friends-s01.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  <img src="_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">cneuromod-embeddings</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="abstract.html">
   Abstract
  </a>
 </li>
</ul>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="methods.html">
   Methods
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="results.html">
   Results
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2 collapsible-parent">
    <a class="reference internal" href="friends-s01_overview.html">
     friends-s01
    </a>
    <ul class="collapse-ul">
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_reproducibility.html">
       Test-retest reproducibility
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_r2_cortex.html">
       R2 in the cortex
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="discussion.html">
   Discussion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="conclusion.html">
   Conclusion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="acknowledgments.html">
   Acknowledgments
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   References
  </a>
 </li>
 <li class="toctree-l1 current active collapsible-parent">
  <a class="reference internal" href="supplementary.html">
   Supplementary material
  </a>
  <ul class="current collapse-ul">
   <li class="toctree-l2 current active collapsible-parent">
    <a class="reference internal" href="supplementary_friends-s01.html">
     Supplementary friends-s01
    </a>
    <ul class="current collapse-ul">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Parcel matching (state=60)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_match_state-900.html">
       Parcel matching (
       <code class="docutils literal notranslate">
        <span class="pre">
         state=900
        </span>
       </code>
       )
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_r2_maps.html">
       R2 maps
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_r2_central.html">
       R2 in central structures
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="friends-s01_r2_cerebellum.html">
       R2 in the cerebellum
      </a>
     </li>
    </ul>
    <i class="fas fa-chevron-down">
    </i>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="_sources/friends-s01_match_state-60.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/friends-s01_match_state-60.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/courtois-neuromod/cneuromod_embeddings"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/courtois-neuromod/cneuromod_embeddings/issues/new?title=Issue%20on%20page%20%2Ffriends-s01_match_state-60.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/courtois-neuromod/cneuromod_embeddings/main?urlpath=tree/friends-s01_match_state-60.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intra-subject-matching">
   Intra-subject matching
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#inter-subject-matching">
   Inter-subject matching
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="parcel-matching-state-60">
<h1>Parcel matching (state=60)<a class="headerlink" href="#parcel-matching-state-60" title="Permalink to this headline">¶</a></h1>
<p>To apprecite qualitatively the reproducibility of parcels between the <code class="docutils literal notranslate"><span class="pre">friends-s01</span></code> training and validation sets, we ranked each parcel of the training set based on its intra-subject reproducibility metric with the validation set. We started by examining the large distributed networks which led to the highest gap between intra- vs inter-subject reproducibility (<code class="docutils literal notranslate"><span class="pre">cluster-20_state-60</span></code>, with <code class="docutils literal notranslate"><span class="pre">fwhm=5</span></code>). We present a selection of parcels with high, medium, and low reproducibility, both at the intra- and inter-subject level.</p>
<div class="admonition-computational-reproducibility admonition">
<p class="admonition-title">Computational reproducibility</p>
<p>The results for this experiment have been precomputed usin the scripts <code class="docutils literal notranslate"><span class="pre">repro_summary.py</span></code> and <code class="docutils literal notranslate"><span class="pre">repro_friends-s01.sh</span></code>. The results are accessed using a number of helper tools available in the <code class="docutils literal notranslate"><span class="pre">dypac_utils</span></code> and <code class="docutils literal notranslate"><span class="pre">repro_summary</span></code> modules. The following hidden block of code loads the necessary libraries to generate the figures, sets the path to find the pre-comupted results as well as some visualisation parameters.</p>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">cneuromod_embeddings.dypac_utils</span> <span class="kn">import</span> <span class="n">get_root_data</span><span class="p">,</span> <span class="n">load_dypac</span>
<span class="kn">from</span> <span class="nn">cneuromod_embeddings.repro_summary</span> <span class="kn">import</span> <span class="n">load_repro</span><span class="p">,</span> <span class="n">visu_match</span>

<span class="n">root_data</span> <span class="o">=</span> <span class="n">get_root_data</span><span class="p">(</span><span class="s1">&#39;friends-s01&#39;</span><span class="p">)</span>
<span class="n">fwhm</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">cluster</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">state</span> <span class="o">=</span> <span class="mi">60</span>
<span class="n">R</span> <span class="o">=</span> <span class="n">load_repro</span><span class="p">(</span><span class="n">root_data</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">root_data</span><span class="p">,</span> <span class="s1">&#39;repro_friends-s01&#39;</span><span class="p">),</span> <span class="n">fwhm</span><span class="o">=</span><span class="n">fwhm</span><span class="p">,</span> <span class="n">cluster</span><span class="o">=</span><span class="n">cluster</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="intra-subject-matching">
<h2>Intra-subject matching<a class="headerlink" href="#intra-subject-matching" title="Permalink to this headline">¶</a></h2>
<p>The code used to do the ranking and pairing of parcels for <code class="docutils literal notranslate"><span class="pre">sub-01</span></code> between test and retest is availaible below.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">subject</span> <span class="o">=</span> <span class="s1">&#39;sub-01&#39;</span>
<span class="n">Rintra</span> <span class="o">=</span> <span class="n">R</span><span class="p">[</span><span class="n">subject</span><span class="p">][</span><span class="n">subject</span><span class="p">]</span>
<span class="n">match_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Rintra</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">match_pair</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">Rintra</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="o">-</span><span class="n">match_val</span><span class="p">)</span>
<span class="n">model1</span><span class="p">,</span> <span class="n">mask_img1</span> <span class="o">=</span> <span class="n">load_dypac</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">subject</span><span class="p">,</span> <span class="n">root_data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span> <span class="n">fwhm</span><span class="o">=</span><span class="n">fwhm</span><span class="p">,</span> <span class="n">cluster</span><span class="o">=</span><span class="n">cluster</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="s2">&quot;even&quot;</span><span class="p">)</span>
<span class="n">model2</span><span class="p">,</span> <span class="n">mask_img2</span> <span class="o">=</span> <span class="n">load_dypac</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">subject</span><span class="p">,</span> <span class="n">root_data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span> <span class="n">fwhm</span><span class="o">=</span><span class="n">fwhm</span><span class="p">,</span> <span class="n">cluster</span><span class="o">=</span><span class="n">cluster</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="s2">&quot;odd&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The following figure represents the most reproducible parcels in <code class="docutils literal notranslate"><span class="pre">friends-s01</span></code> for <code class="docutils literal notranslate"><span class="pre">sub-01</span></code>. All 5 parcels involve distributed cortical territories, with very close similarity between test and retest, making it hard to identify differences visually. We can note that three parcels involve the temporal superior cortex, while two involve the S2 areas. However, there are differences between these parcels both in the involvement of other, distributed brain regions, see for example frontal regions in the axial slice between row 4 and 5. There were differences as well as the specific borders of the regions, which is apparent for example in the superior temporal cortex in the sagittal slice of rows 2 and 5. This observation is consistent with our previous work on the Midnight Brain Scan dataset \cite{Boukhdhir2020}.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Components 0-4, out of 60 ranked by decreasing reproducibility</span>
<span class="n">visu_match</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_5_0.png" src="_images/friends-s01_match_state-60_5_0.png" />
</div>
</div>
<p>The high level of spatial similarity between test and retest was also visible in parcels with median reproducibility, and even in the parcels with some of the lowest reproducibility metric, although with more noise present. See supplemental figures below for examples of such parcels. Altogether, qualitative inspection not only confirmed the near-perfect reproductibility of most parcels, but evidenced that even parcels with lower scores have a clear convergence between test and retest.</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Components 30-34, out of 60 ranked by decreasing reproducibility</span>
<span class="n">visu_match</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_7_0.png" src="_images/friends-s01_match_state-60_7_0.png" />
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Components 50-54, out of 60 ranked by decreasing reproducibility</span>
<span class="n">visu_match</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_8_0.png" src="_images/friends-s01_match_state-60_8_0.png" />
</div>
</div>
</div>
<div class="section" id="inter-subject-matching">
<h2>Inter-subject matching<a class="headerlink" href="#inter-subject-matching" title="Permalink to this headline">¶</a></h2>
<p>The code below replicated the spatial matching procedure between two subjects (here with <code class="docutils literal notranslate"><span class="pre">sub-01</span></code> and <code class="docutils literal notranslate"><span class="pre">sub-05</span></code>)</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sub1</span> <span class="o">=</span> <span class="s1">&#39;sub-01&#39;</span>
<span class="n">sub2</span> <span class="o">=</span> <span class="s1">&#39;sub-05&#39;</span>
<span class="n">Rintra</span> <span class="o">=</span> <span class="n">R</span><span class="p">[</span><span class="n">sub1</span><span class="p">][</span><span class="n">sub2</span><span class="p">]</span>
<span class="n">match_val</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">Rintra</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">match_pair</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">Rintra</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="o">-</span><span class="n">match_val</span><span class="p">)</span>
<span class="n">model1</span><span class="p">,</span> <span class="n">mask_img1</span> <span class="o">=</span> <span class="n">load_dypac</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">sub1</span><span class="p">,</span> <span class="n">root_data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span> <span class="n">fwhm</span><span class="o">=</span><span class="n">fwhm</span><span class="p">,</span> <span class="n">cluster</span><span class="o">=</span><span class="n">cluster</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="s2">&quot;even&quot;</span><span class="p">)</span>
<span class="n">model2</span><span class="p">,</span> <span class="n">mask_img2</span> <span class="o">=</span> <span class="n">load_dypac</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="n">sub2</span><span class="p">,</span> <span class="n">root_data</span><span class="o">=</span><span class="n">root_data</span><span class="p">,</span> <span class="n">fwhm</span><span class="o">=</span><span class="n">fwhm</span><span class="p">,</span> <span class="n">cluster</span><span class="o">=</span><span class="n">cluster</span><span class="p">,</span> <span class="n">state</span><span class="o">=</span><span class="n">state</span><span class="p">,</span> <span class="n">batch</span><span class="o">=</span><span class="s2">&quot;even&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The most reproducible parcels were found in various territories, including the cerebellum (row 1), visual cortex (rows 2-3), posterior default-mode network (row 4) and superior temporal cortex (row 5). But the reproducibility index was 0.6 and lower. Clear difference between subjects could indeed be observed in the boundaries of the regions involved in each network, for all five presented parcels.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visu_match</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_12_0.png" src="_images/friends-s01_match_state-60_12_0.png" />
</div>
</div>
<p>When investigating parcels with medium or low inter-subject reproducibility, similar differences in boundaries were observed, often at several brain locations at the same time, and some distributed regions were also absent from some of the maps.</p>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visu_match</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_14_0.png" src="_images/friends-s01_match_state-60_14_0.png" />
</div>
</div>
<div class="cell tag_hide-cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">visu_match</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">model1</span><span class="p">,</span> <span class="n">model2</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">match_pair</span><span class="p">,</span> <span class="n">match_val</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/friends-s01_match_state-60_15_0.png" src="_images/friends-s01_match_state-60_15_0.png" />
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="supplementary_friends-s01.html" title="previous page">Supplementary friends-s01</a>
    <a class='right-next' id="next-link" href="friends-s01_match_state-900.html" title="next page">Parcel matching (<code class="docutils literal notranslate"><span class="pre">state=900</span></code>)</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By CNeuroMod team<br/>
        
            &copy; Copyright 2020.<br/>
          <div class="extra_footer">
            This jupyterbook was prepared for submission at <a href="https://neurolibre.com">Neurolibre</a>.
          </div>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>